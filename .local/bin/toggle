#!/bin/sh
sink=$(pactl list sinks | grep "Sink #" | sed 's/.*\#//')
audiostate=$(pactl list sinks | grep "Active Port" | sed 's/.* //')
volume=$(pamixer --get-volume-human | sed 's/%//')


case "$1" in
	audio) { [ "$audiostate" = "analog-output-headphones" ] &&
		pactl set-sink-port $sink analog-output-speaker &&
		pkill -RTMIN+10 dwmblocks &&
		notify-send "Speaker selected."; } ||
				{ 	pactl set-sink-port $sink analog-output-headphones &&
					pkill -RTMIN+10 dwmblocks &&
					notify-send "Headphones selected."; } ;; #|| { killall pulseaudio; pulseaudio --start; } ;;
esac
