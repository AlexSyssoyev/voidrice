#!/bin/bash
! echo $(xclip -o) | grep "https://www.youtube.com/watch?v=\|https://youtu.be/" >/dev/null && notify-send "Video not found" && exit
url="$(xclip -o | sed 's/\&.*//')"

notify-send -t 3000 "Playing video: $url"

title=$(youtube-dl -e "$url")
duration=$(youtube-dl --get-duration "$url")
[ ! "$title" ] && notify-send -t 3000 "Error or video not available" && exit
notify-send -t 3000 "$title ----- $duration" ;

mpv --ytdl-format='bestvideo[height<=?720]+bestaudio/best' --ytdl-raw-options=no-cache-dir= "$url" || notify-send -t 3000 "Error" >/dev/null
